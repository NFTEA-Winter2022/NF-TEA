"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deployBeacon = void 0;
const utils_1 = require("./utils");
async function deployBeacon(Contract, opts = {}) {
    const { impl } = await (0, utils_1.deployBeaconImpl)(Contract, opts);
    const { deployer } = (0, utils_1.withDefaults)(opts);
    const UpgradeableBeaconFactory = (0, utils_1.getUpgradeableBeaconFactory)(Contract);
    const beaconDeployment = await (0, utils_1.deploy)(deployer, UpgradeableBeaconFactory, impl);
    const beaconContract = new UpgradeableBeaconFactory(beaconDeployment.address);
    beaconContract.transactionHash = beaconDeployment.txHash;
    return beaconContract;
}
exports.deployBeacon = deployBeacon;
//# sourceMappingURL=deploy-beacon.js.map