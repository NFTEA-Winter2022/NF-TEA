"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.upgradeBeacon = void 0;
const utils_1 = require("./utils");
async function upgradeBeacon(beacon, Contract, opts = {}) {
    const beaconAddress = (0, utils_1.getContractAddress)(beacon);
    const { impl: nextImpl } = await (0, utils_1.deployBeaconImpl)(Contract, opts, beaconAddress);
    const UpgradeableBeaconFactory = (0, utils_1.getUpgradeableBeaconFactory)(Contract);
    const beaconContract = new UpgradeableBeaconFactory(beaconAddress);
    const { tx: upgradeTx } = await beaconContract.upgradeTo(nextImpl);
    beaconContract.transactionHash = upgradeTx;
    return beaconContract;
}
exports.upgradeBeacon = upgradeBeacon;
//# sourceMappingURL=upgrade-beacon.js.map